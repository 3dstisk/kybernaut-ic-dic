!function(l){function i(i){switch(woolab.ares_fill&&(l(".woolab-ic-dic-tip").remove(),e()),i){case"SK":l("#billing_dic_dph_field").show();break;case"CZ":l("#billing_dic_dph_field").hide(),woolab.ares_check&&(n(o=l("#billing_ic")),o.bind("input propertychange",function(){n(o)}));break;default:l("#billing_dic_dph_field").hide()}var o}function o(l){l.removeClass("kbnt-wrong").removeClass("woocommerce-invalid")}function a(l){l.addClass("kbnt-wrong").addClass("woocommerce-invalid").removeClass("woocommerce-validated")}function e(){l("#billing_company").removeAttr("readonly"),l("#billing_dic").removeAttr("readonly"),l("#billing_postcode").removeAttr("readonly"),l("#billing_city").removeAttr("readonly"),l("#billing_address_1").removeAttr("readonly")}function n(i){var n=i.val(),c=l("#billing_ic_field"),t='<span role="alert" class="woolab-ic-dic-tip">'+woolab.l18n_not_valid+"</span>";l(".woolab-ic-dic-tip").remove(),o(c),c.removeClass("kbnt-ok").removeClass("woocommerce-validated"),7!=n.length&&8!=n.length||null==n.match(/^[0-9]+$/)?(e(),n.length>0?a(c):o(c)):l.ajax({url:woolab.ajaxurl,data:{action:"ajaxAres",ico:n},beforeSend:function(){c.addClass("kbnt-validating")},success:function(i){(c.removeClass("kbnt-validating"),i)?0==(i=JSON.parse(i)).error?(l(".woolab-ic-dic-tip").remove(),c.addClass("kbnt-ok").addClass("woocommerce-validated").removeClass("woocommerce-invalid"),woolab.ares_fill&&(l("#billing_company").val(i.spolecnost).attr("readonly",!0),l("#billing_dic").val(i.dic).attr("readonly",!0),l("#billing_address_1").val(i.adresa).attr("readonly",!0),l("#billing_postcode").val(i.psc).attr("readonly",!0),l("#billing_city").val(i.mesto).attr("readonly",!0),c.append('<span role="info" class="woolab-ic-dic-tip">'+woolab.l18n_ok+"</span>"))):(r(c),l(".woolab-ic-dic-tip").length>0&&l(".woolab-ic-dic-tip").remove(),e(),c.append('<span role="alert" class="woolab-ic-dic-tip error">'+i.error+"</span>")):(r(c),0==l(".woolab-ic-dic-tip").length&&(e(),c.append(t)))},error:function(o){0==l(".woolab-ic-dic-tip").length&&(i.val(""),r(c),c.append('<span role="alert" class="woolab-ic-dic-tip error">'+woolab.l18n_error+"</span>"))}})}function r(i){woolab.ares_fill&&(l("#billing_company").val(""),l("#billing_dic").val(""),l("#billing_postcode").val(""),l("#billing_city").val(""),l("#billing_address_1").val(""),e()),a(i)}l(document).ready(function(){i(l("#billing_country").val()),l("body").bind("country_to_state_changing",function(l,o,a){i(o)}),l(".woolab-ic-dic-no_spaces input").bind("input",function(){l(this).val(function(l,i){return i.replace(/\s+/g,"")})})})}(jQuery);