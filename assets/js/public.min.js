!function(l){function o(o){switch(woolab.ares_fill&&(l(".woolab-ic-dic-tip").remove(),n()),o){case"SK":l("#billing_dic_dph_field").show();break;case"CZ":l("#billing_dic_dph_field").hide(),woolab.ares_check&&(e(i=l("#billing_ic")),i.bind("focusin",function(){last_ico_value=i.val()}),i.bind("focusout",function(){i.val()!==last_ico_value&&e(i)}));break;default:l("#billing_dic_dph_field").hide()}var i}function i(l){l.removeClass("kbnt-wrong").removeClass("woocommerce-invalid")}function a(l){l.addClass("kbnt-wrong").addClass("woocommerce-invalid").removeClass("woocommerce-validated")}function n(){l("#billing_company").removeAttr("readonly"),l("#billing_dic").removeAttr("readonly"),l("#billing_postcode").removeAttr("readonly"),l("#billing_city").removeAttr("readonly"),l("#billing_address_1").removeAttr("readonly")}function e(o){var e=o.val(),t=l("#billing_ic_field"),r='<span role="alert" class="woolab-ic-dic-tip">'+woolab.l18n_not_valid+"</span>";l(".woolab-ic-dic-tip").remove(),i(t),t.removeClass("kbnt-ok").removeClass("woocommerce-validated"),7!=e.length&&8!=e.length||null==e.match(/^[0-9]+$/)?(n(),e.length>0?a(t):i(t)):l.ajax({url:woolab.ajaxurl,data:{action:"ajaxAres",ico:e},beforeSend:function(){t.addClass("kbnt-validating"),t.append('<span role="info" class="woolab-ic-dic-tip">'+woolab.l18n_validating+"</span>")},success:function(o){(t.removeClass("kbnt-validating"),o)?0==(o=JSON.parse(o)).error?(l(".woolab-ic-dic-tip").remove(),t.addClass("kbnt-ok").addClass("woocommerce-validated").removeClass("woocommerce-invalid"),woolab.ares_fill&&(l("#billing_company").val(o.spolecnost).attr("readonly",!0),l("#billing_dic").val(o.dic).attr("readonly",!0),l("#billing_address_1").val(o.adresa).attr("readonly",!0),l("#billing_postcode").val(o.psc).attr("readonly",!0),l("#billing_city").val(o.mesto).attr("readonly",!0),t.append('<span role="info" class="woolab-ic-dic-tip">'+woolab.l18n_ok+"</span>"))):(c(t),l(".woolab-ic-dic-tip").length>0&&l(".woolab-ic-dic-tip").remove(),n(),t.append('<span role="alert" class="woolab-ic-dic-tip error">'+o.error+"</span>")):(c(t),0==l(".woolab-ic-dic-tip").length&&(n(),t.append(r)))},error:function(i){0==l(".woolab-ic-dic-tip").length&&(o.val(""),c(t),t.append('<span role="alert" class="woolab-ic-dic-tip error">'+woolab.l18n_error+"</span>"))}})}function c(o){woolab.ares_fill&&(l("#billing_company").val(""),l("#billing_dic").val(""),l("#billing_postcode").val(""),l("#billing_city").val(""),l("#billing_address_1").val(""),n()),a(o)}l(document).ready(function(){o(l("#billing_country").val()),l("body").bind("country_to_state_changing",function(l,i,a){o(i)}),l(".woolab-ic-dic-no_spaces input").bind("input",function(){l(this).val(function(l,o){return o.replace(/\s+/g,"")})})})}(jQuery);