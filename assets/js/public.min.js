!function(l){function o(o){switch(woolab.ares_fill&&(l(".woolab-ic-dic-tip").remove(),e()),o){case"SK":l("#billing_dic_dph_field").show();break;case"CZ":l("#billing_dic_dph_field").hide(),woolab.ares_check&&(n(a=l("#billing_ic")),a.bind("input propertychange",function(){n(a)}));break;default:l("#billing_dic_dph_field").hide()}var a}function a(l){l.removeClass("kbnt-wrong").removeClass("woocommerce-invalid")}function i(l){l.addClass("kbnt-wrong").addClass("woocommerce-invalid").removeClass("woocommerce-validated")}function e(){l("#billing_company").removeAttr("readonly"),l("#billing_dic").removeAttr("readonly"),l("#billing_postcode").removeAttr("readonly"),l("#billing_city").removeAttr("readonly"),l("#billing_address_1").removeAttr("readonly")}function n(o){var n=o.val(),c=l("#billing_ic_field"),t='<span role="alert" class="woolab-ic-dic-tip">'+woolab.l18n_not_valid+"</span>";l(".woolab-ic-dic-tip").remove(),a(c),c.removeClass("kbnt-ok").removeClass("woocommerce-validated"),7!=n.length&&8!=n.length||null==n.match(/^[0-9]+$/)?(e(),n.length>0?i(c):a(c)):l.ajax({url:woolab.ajaxurl,data:{action:"ajaxAres",ico:n},beforeSend:function(){c.addClass("kbnt-validating")},success:function(o){(c.removeClass("kbnt-validating"),o)?0==(o=JSON.parse(o)).error?(l(".woolab-ic-dic-tip").remove(),c.addClass("kbnt-ok").addClass("woocommerce-validated").removeClass("woocommerce-invalid"),woolab.ares_fill&&(l("#billing_company").val(o.spolecnost).attr("readonly",!0),l("#billing_dic").val(o.dic).attr("readonly",!0),l("#billing_address_1").val(o.adresa).attr("readonly",!0),l("#billing_postcode").val(o.psc).attr("readonly",!0),l("#billing_city").val(o.mesto).attr("readonly",!0),c.append('<span role="info" class="woolab-ic-dic-tip">'+woolab.l18n_ok+"</span>"))):(r(c),l(".woolab-ic-dic-tip").length>0&&l(".woolab-ic-dic-tip").remove(),e(),c.append('<span role="alert" class="woolab-ic-dic-tip error">'+o.error+"</span>")):(r(c),0==l(".woolab-ic-dic-tip").length&&(e(),c.append(t)))},error:function(a){0==l(".woolab-ic-dic-tip").length&&(o.val(""),r(c),c.append('<span role="alert" class="woolab-ic-dic-tip error">'+woolab.l18n_error+"</span>"))}})}function r(o){woolab.ares_fill&&(l("#billing_company").val(""),l("#billing_dic").val(""),l("#billing_postcode").val(""),l("#billing_city").val(""),l("#billing_address_1").val(""),e()),i(o)}l(document).ready(function(){o(jQuery("#billing_country").val()),l("body").bind("country_to_state_changing",function(l,a,i){o(a)})})}(jQuery);